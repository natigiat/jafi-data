function modalFun(e) {
    function i() {
        var e = r.width();
        if (e <= 767 && (n == "mobile" || n == "desktop")) {
            $(".modal-body").removeClass("desktop-des-non-active");
            $(".modal-body").removeClass("mobile-des-active");
            n = "phone";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".smenu-user").find("a").removeClass("active")
            }
        }
        if (e <= 979 && e >= 768 && (n == "desktop" || n == "phone")) {
            $(".modal-body").removeClass("desktop-des-non-active");
            $(".modal-body").removeClass("smenu-active");
            n = "mobile";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".smenu-user").find("a").removeClass("active")
            }
        }
        if (n == "desktop") {
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera  Mini/i.test(navigator.userAgent)) {
                $(".modal-body").addClass("trigger-mobileDevice");
                $(".modal-body").addClass("mobile-des-active");
                $(".smenu-user").find("a").addClass("active");
                $(".modal-body").addClass("smenu-active");
                $(this).find("a").addClass("active");
                n = "phone";
                $(".mobile-nav").removeClass("visible-phone");
                $(".smenu-close").removeClass("visible-phone");
                $(".modal-header").hide()
            }
        }
        if (e >= 980 && (n == "mobile" || n == "phone")) {
            n = "desktop";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".modal-body").removeClass("mobile-des-active");
                $(".modal-body").removeClass("smenu-active")
            } else {
                $(".smenu-user").find("a").addClass("active");
                $(".modal-body").removeClass("desktop-des-non-active")
            }
        }
    }
    $image = $(e).find(".image");
    $user = $(e).find(".userData");
    $userMes = $(e).find(".userMes");
    $admin = $(e).find(".admin");
    $sharing = $(e).find(".sharing");
    $shedule = $(e).find(".shedule");
    $imageData = $($image).html();
    $adminInfo = $($admin).html();
    $shareCon = $($sharing).html();
    $scheduleCon = $($shedule).html();
    $userData = $($user).html();
    $userMessage = $($userMes).html();
    $admin = $($admin).html();
    var t = '<div class="modal-overlay" id="modal-overlay"> <div class="modal-wrapper spinner-target"><div class="modal-content"><div class="modal-header hidden-phone"><p></p><span class="modal-close">X</span></div><div class="modal-body"><div class="share">' + $shareCon + '</div><div class="modal-left"><div class="modal-image">' + $imageData + '</div><div class="modal-admin"><div class="wrapper-admin"><div class="admin-share">' + $adminInfo + '</div><div class="schedule">' + $scheduleCon + '</div></div></div></div><div class="modal-menu"> <div class="mobile-nav visible-phone"><a class=""><span><i class="icon-reorder"></i></span></a></div><div class="modal-des"><div class="wrapper-des"><div class="profile"><div class="user">' + $userData + '</div><div class="user-message">' + $userMessage + '</div></div></div></div><div class="wrapper-smenu"><ul class="nav"> <li class="smenu-close visible-phone"><a class="" href="#"><i class="icon-remove-sign"></i></a></li><li class="smenu-photo"><a class="active" href="#"><i class="icon-camera"></i></a></li><li class="smenu-time"><a class="" href="#"><i class="icon-time"></i></a></li><li class="smenu-user"><a class="active" href="#"><i class="icon-user"></i></a></li><li class="smenu-download"><a href="#"><i class="icon-download"></i></a></li></ul></div></div></div></div></div></div>';
    $("body").append(t);
    $(".modal-overlay").fadeIn();
    $(".smenu-close").click(function(e) {
        $(".modal-overlay").fadeOut()
    });
    $(".modal-close").click(function(e) {
        $(".modal-overlay").fadeOut()
    });
    $(".smenu-photo").click(function(e) {
        if ($(this).find("a").hasClass("active")) {
            $(".smenu-time").find("a").removeClass("active");
            $(".modal-body").removeClass("timer-active")
        } else {
            $(this).find("a").addClass("active");
            $(".smenu-time").find("a").removeClass("active");
            $(".modal-body").removeClass("timer-active")
        }
    });
    $(".smenu-time").click(function(e) {
        if ($(this).find("a").hasClass("active")) {
            $(".smenu-photo").find("a").removeClass("active");
            $(".modal-body").addClass("timer-active")
        } else {
            $(this).find("a").addClass("active");
            $(".modal-body").addClass("timer-active");
            $(".smenu-photo").find("a").removeClass("active")
        }
    });
    var n = "desktop";
    var r = $(window);
    i();
    $(window).resize(i).delay(100);
    $(".mobile-nav").click(function(e) {
        if (n == "phone" && $(this).find("a").hasClass("active") == false) {
            console.log($(this).find("a").hasClass("active"));
            $(".modal-body").addClass("smenu-active");
            $(this).find("a").addClass("active")
        } else if (n == "phone" && $(this).find("a").hasClass("active")) {
            $(".modal-body").removeClass("smenu-active");
            $(this).find("a").removeClass("active")
        }
    });
    $(".smenu-user").click(function(e) {
        if (n == "desktop" && $(this).find("a").hasClass("active")) {
            $(".modal-body").addClass("desktop-des-non-active");
            $(".smenu-user").find("a").removeClass("active")
        } else if (n == "desktop" && $(this).find("a").not("active")) {
            console.log("make active on desktop");
            $(".modal-body").removeClass("desktop-des-non-active");
            $(".smenu-user").find("a").addClass("active")
        }
        if ((n == "mobile" || n == "phone") && $(this).find("a").hasClass("active")) {
            $(".modal-body").removeClass("mobile-des-active");
            $(".smenu-user").find("a").removeClass("active")
        } else if ((n == "mobile" || n == "phone") && $(this).find("a").not("active")) {
            console.log("make active on mobile");
            $(".modal-body").addClass("mobile-des-active");
            $(".smenu-user").find("a").addClass("active")
        }
    })
}