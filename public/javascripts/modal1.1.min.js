function modalFun(e) {
    function i() {
        var e = r.width();
        if (e <= 767 && (n == "mobile" || n == "desktop")) {
            $(".modal-body").removeClass("desktop-des-non-active");
            $(".modal-body").removeClass("mobile-des-active");
            n = "phone";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".smenu-user").find("a").removeClass("active")
            }
        }
        if (e <= 979 && e >= 768 && (n == "desktop" || n == "phone")) {
            $(".modal-body").removeClass("desktop-des-non-active");
            $(".modal-body").removeClass("smenu-active");
            n = "mobile";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".smenu-user").find("a").removeClass("active")
            }
        }
        if (n == "desktop") {
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera  Mini/i.test(navigator.userAgent)) {
                $(".modal-body").addClass("trigger-mobileDevice");
                $(".modal-body").addClass("mobile-des-active");
                $(".smenu-user").find("a").addClass("active");
                $(".modal-body").addClass("smenu-active");
                $(this).find("a").addClass("active");
                n = "phone";
                $(".mobile-nav").removeClass("visible-phone");
                $(".smenu-close").removeClass("visible-phone");
                $(".modal-header").hide()
            }
        }
        if (e >= 980 && (n == "mobile" || n == "phone")) {
            n = "desktop";
            if ($(".smenu-user").find("a").hasClass("active")) {
                $(".modal-body").removeClass("mobile-des-active");
                $(".modal-body").removeClass("smenu-active")
            } else {
                $(".smenu-user").find("a").addClass("active");
                $(".modal-body").removeClass("desktop-des-non-active")
            }
        }
    }
    
   
    $userMes = $(e).find(".userMes");
    $admin = $(e).find(".admin");
    $shedule = $(e).find(".shedule");
    $adminInfo = $($admin).html();
    $scheduleCon = $($shedule).html();
    $userMessage = $($userMes).html();
    $admin = $($admin).html();
    

    var t = '<div class="modal-overlay" id="modal-overlay"> <div class="modal-wrapper spinner-target"><div class="modal-content"><div class="modal-header hidden-phone"><p></p><span class="modal-close">X</span></div><div class="modal-body"><div class="share"></div><div class="modal-left"></div><div class="modal-menu"> <div class="mobile-nav visible-phone"><a class=""><span><i class="icon-reorder"></i></span></a></div><div class="wrapper-smenu"><ul class="nav"> <li class="smenu-close visible-phone"><a class="" href="#"><i class="icon-remove-sign"></i></a></li><li class="smenu-images"><a class="active" href="#"><i class="icon-pictures3"></i></a></li> <li class="smenu-video"><a class="" href="#"><i class="icon-tv"></i></a></li><li class="smenu-element"><a class="" href="#"><i class="icon-cube"></i></a></li> <li class="smenu-form"><a class="" href="#"><i class="icon-envelope"></i></a></li> <li class="smenu-chat"><a class="" href="#"><i class="icon-comments"></i></a></li><li class="smenu-user"><a class="active" href="#"><i class="icon-user"></i></a></li></ul></div></div></div></div></div></div>'; $("body").append(t); $(".modal-overlay").fadeIn();
    $(".smenu-close").click(function(e) {
        $(".modal-overlay").fadeOut()
    });
    $(".modal-close").click(function(e) {
        $(".modal-overlay").fadeOut()
    });


    $(".smenu-images").on('click' , function(e) {
        
        $data = '<section class="filter-wrapper"> <div class="keyword-wrapper"> <input type="text" id="keyword" class="cdnjs" autocomplete="off" placeholder="start typing please..." required /> <a href="https://www.paviliongift.com/search?keyword=" target="_blank" id="keyword-button"><i class="fa fa-search-plus"></i></a> </div> <ul id="filter-select" class="filter-select no-value"> </ul> </section>';
        $('.modal-left').html($data).fadeIn(5000000);
    });

    $(".smenu-video").on("click" , function(e) {
        $data = 'video';
        $('.modal-left').html($data).fadeIn(500000000);
    });

    $(".smenu-element").on("click" , function(e) {
        $data = 'element';
        $('.modal-left').html($data);
    });

    $(".smenu-form").on("click" , function(e) {
        $data = 'form';
        $('.modal-left').html($data);
    });

    $(".smenu-chat").on("click" , function(e) {
        $data = 'chat';
        $('.modal-left').html($data);
    });
    

    //ajax to data cdn


    $('.modal-left').on('keyup' , '.cdnjs' , function() {
    	
		var keyword = $("#keyword").val();


		$.getJSON("data/cdnjs.json", function(result){
            $.each(result, function(i, field){
                // console.log(field.name);
                if (field.name === keyword) {
                	console.log(field.tokens);
                }
                // $("div").append(field + " ");
            });
        });
    });
    
   
    

    var n = "desktop";
    var r = $(window);
    i();
    $(window).resize(i).delay(100);
    $(".mobile-nav").click(function(e) {
        if (n == "phone" && $(this).find("a").hasClass("active") == false) {
            console.log($(this).find("a").hasClass("active"));
            $(".modal-body").addClass("smenu-active");
            $(this).find("a").addClass("active")
        } else if (n == "phone" && $(this).find("a").hasClass("active")) {
            $(".modal-body").removeClass("smenu-active");
            $(this).find("a").removeClass("active")
        }
    });
    

    $(".modal-body").addClass("desktop-des-non-active");

    $(".smenu-user").click(function(e) {

    	if ($('.modal-menu').css('width') == "30%") {
            alert('wow');
    	}

        if (n == "desktop" && $(this).find("a").hasClass("active")) {
            $(".modal-body").addClass("desktop-des-non-active");
            $(".smenu-user").find("a").removeClass("active")
        } else if (n == "desktop" && $(this).find("a").not("active")) {
            $(".modal-body").removeClass("desktop-des-non-active");
            $('.wrapper-smenu').find('.nav').toggleClass('icons-active-mode');
            $(".smenu-user").find("a").addClass("active")
        }
        if ((n == "mobile" || n == "phone") && $(this).find("a").hasClass("active")) {
            $(".modal-body").removeClass("mobile-des-active");
            $(".smenu-user").find("a").removeClass("active")
        } else if ((n == "mobile" || n == "phone") && $(this).find("a").not("active")) {
            $(".modal-body").addClass("mobile-des-active");
            $(".smenu-user").find("a").addClass("active")
        }
       

    })

 
}

